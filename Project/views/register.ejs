<!DOCTYPE html>
<html>
<head>
	<title>Login page</title>
	<script type="text/javascript" src="/externalFiles/jsFiles/jquery.min.js"></script>
	<script type="text/javascript" src="/externalFiles/jsFiles/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="/externalFiles/cssFiles/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="/css/loginPage.css">
</head>
<body style="background-color: #34495e;">
	<form method="POST" action="/auth/register" name="registerForm" class="formBox">
    <h1 class="text-capitalize">register user</h1>
    <input type="text" name="username" placeholder="Username" id="username">
    <span id="username_error"></span>
    <input type="email" name="email" placeholder="Email" id="email">
    <span id="email_error"></span>
    <input type="password" name="password" placeholder="Password" id="password">
    <span id="password_error"></span>
    <input type="password" name="confirmpassword" placeholder="Confirmpassword" id="confirmpassword">
    <span id="confirmpassword_error"></span>
    <input type="submit" name="" value="Submit">
	</form>
</body>
<script type="text/javascript">
	var formData = document.forms.registerForm,
     getTag = document.getElementsByClassName("formBox")[0]
              .getElementsByTagName("span");

    /* Check whether getTag is array or not 
       if its not an array then convert to array format */

     console.log(JSON.stringify(Array.isArray(getTag)));
     console.log(JSON.stringify(Array.isArray(Array.from(getTag))));

     Array.from(getTag).forEach(function(getElem){
        getElem.style.color = "red";
     });

    formData.onsubmit = function(){
    	  var username = formData.username.value,
    	  password = formData.password.value,
    	  email = formData.email.value,
    	  confirmpassword = formData.confirmpassword.value,
    	  submit = true;

    	  if(username == null || username == ""){
    	  	username_error = "please enter username";
    	  	document.getElementById("username_error").textContent = username_error;
    	  	submit = false;
    	  }

    	  if(email == null || email == ""){
    	  	email_error = "please enter email";
    	  	document.getElementById("email_error").textContent = email_error;
    	  	submit = false;
    	  }

    	  if(password == null || password == ""){
    	  	password_error = "please enter password";
    	  	document.getElementById("password_error").textContent = password_error;
    	  	submit = false;
    	  }

    	   if(confirmpassword == null || confirmpassword == ""){
    	  	confirmpassword_error = "please enter confirmpassword";
    	  	document.getElementById("confirmpassword_error").textContent = confirmpassword_error;
    	  	submit = false;
    	  }

    	   if(password != confirmpassword){
    	  	confirmpassword_error = "confirm password is not matching with the password";
    	  	document.getElementById("confirmpassword_error").textContent = confirmpassword_error;
    	  	submit = false;
    	  }

    	  return submit;
    }

	function removeWarning() {
	    document.getElementById(this.id + "_error").innerHTML = "";
	}

	document.getElementById("username").onkeyup = removeWarning;
	document.getElementById("email").onkeyup = removeWarning;
	document.getElementById("password").onkeyup = removeWarning;
	document.getElementById("confirmpassword").onkeyup = removeWarning;

</script>
</html>